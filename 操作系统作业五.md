# 操作系统作业五

## 一

### 1.

先来先服务：p1(10)---p2(1)---p3(2)---p4(2)---p5(5)

短作业优先：p2(1)---p4(1)---p3(2)---p5(5)---p1(10)

非抢占式的优先级：p2(1)---p5(5)---p1(10)---p3(2)---p4(1)

时间片轮转：p1(2)---p2(1)---p3(2)---p4(1)---p5(2)---p1(2)---p5(2)---p1(2)---p5(1)---p1(4)

### 2.

**先来先服务：**

| 进程 | 周转时间 | 等待时间 | 执行时间 |
| :--: | :------: | :------: | :------: |
|  p1  |    10    |    0     |    10    |
|  p2  |    11    |    10    |    1     |
|  p3  |    13    |    11    |    2     |
|  p4  |    14    |    13    |    1     |
|  p5  |    19    |    14    |    5     |

平均周转时间：（10+11+13+14+19）/5=13.4

**短作业优先：**

| 进程 | 周转时间 | 等待时间 | 执行时间 |
| :--: | :------: | :------: | :------: |
|  p1  |    19    |    9     |    10    |
|  p2  |    1     |    0     |    1     |
|  p3  |    4     |    2     |    2     |
|  p4  |    2     |    1     |    1     |
|  p5  |    9     |    14    |    5     |

平均周转时间：（19+1+4+2+9）/5=7

**非抢占式优先：**

| 进程 | 周转时间 | 等待时间 | 执行时间 |
| :--: | :------: | :------: | :------: |
|  p1  |    16    |    6     |    10    |
|  p2  |    1     |    0     |    1     |
|  p3  |    18    |    16    |    2     |
|  p4  |    19    |    18    |    1     |
|  p5  |    6     |    1     |    5     |

平均周转时间：（16+1+18+19+6）/5=12

**时间片轮转：**

| 进程 | 周转时间 | 等待时间 | 执行时间 |
| :--: | :------: | :------: | :------: |
|  p1  |    19    |    9     |    10    |
|  p2  |    3     |    2     |    1     |
|  p3  |    5     |    3     |    2     |
|  p4  |    6     |    5     |    1     |
|  p5  |    15    |    10    |    5     |

平局周转时间：（19+3+5+6+15）/5=9.6

## 二

**互斥条件**：指进程对所分配到的资源进行排它性使用，即在一段时间内某资源只由一个进程占用。如果此时还有其它进程请求资源，则请求者只能等待，直至占有资源的进程用毕释放。

**请求和保持条件**：指进程已经保持至少一个资源，但又提出了新的资源请求，而该资源已被其它进程占有，此时请求进程阻塞，但又对自己已获得的其它资源保持不放。

**不可剥夺条件**:指进程已获得的资源，在未使用完之前，不能被剥夺，只能在使用完时由自己释放。

**环路等待条件**:指在发生死锁时，必然存在一个进程——资源的环形链，即进程集合{P0，P1，P2，···，Pn}中的P0正在等待一个P1占用的资源；P1正在等待P2占用的资源，……，Pn正在等待已被P0占用的资源。

## 三

设每个进程最多需要同时使用x台打印机。当每个进程都申请x-1个资源，这个时候如果系统没有资源了，它们中任何一个进程，如果再提出申请1个资源的要求，就会死锁。如果系统还有1个资源，就满足了提出申请资源的某一个进程，它释放所持有的x-1个资源，死锁局面被打破。所以如果系统死锁必有n(x−1)+1>m，化简得出nx>m+n，这与题目条件nx < (m+n)矛盾，所以不会发生死锁。

## 四

**进程互斥（间接制约关系）**：两个或两个以上的进程，不能同时进入关于同一组共享资源的临界区，否则可能发生与时间有关的错误。

**进程同步（直接制约关系）**：系统中各进程之间能有效地共享资源和相互合作，从而使程序的执行具有可再现性的过程称为进程同步。

## 五

1.

work:(1,4,0)--p2--(2,7,5)--p0--(2,7,8)--p1--(3,7,8)--p3--(3,7,10)--p4--(3,7,11)

当前系统处于安全状态

2.

work:(0,6,2)--p0--(0,6,3)--p3--(0,6,5)--p4--(0,6,6)

根据安全性算法，循环结束之后，p1，p2没有被遍历到，所以系统处于非安全状态。